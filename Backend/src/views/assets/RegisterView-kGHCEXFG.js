import{p as A,r as _,q as O,s as p,e as x,k as q,w as s,v as B,x as E,f as n,o as M,b as y,d as t,n as b,u as a,y as N,D as R,z as $,A as z,B as L,C as P}from"./index-8bYaaTru.js";const j={class:"my-auto"},F={class:"text-center"},I={__name:"RegisterView",setup(T){const w=A(),V=E(),r=_(!1),i=_(!1),{handleSubmit:h}=O({validationSchema:{email:"required|email",username:"required|min:4|max:16",password:"required|min:6"}}),d=p("email"),u=p("username"),m=p("password"),k=h(async o=>{i.value=!0;try{var e=await fetch(x.register.url,{method:x.register.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});e=await e.json(),e!=null&&e.success&&(w.notify(e==null?void 0:e.message,"success"),V.push({name:"dashboard"}))}catch(c){console.log(c)}finally{i.value=!1}});return(o,e)=>{const c=n("v-card-title"),f=n("v-card-text"),v=n("v-text-field"),g=n("v-btn"),U=n("v-card-actions"),C=n("v-form"),S=n("v-card");return M(),q(S,{loading:i.value,class:B(["w-100 px-sm-7 py-sm-8 pa-2",o.$vuetify.display.smAndUp?"":"d-flex flex-column h-100"]),elevation:"0",rounded:o.$vuetify.display.smAndUp?"xl":"0","max-width":o.$vuetify.display.smAndUp?"380":""},{default:s(()=>[y("div",j,[y("div",F,[t(c,{class:"text-h4 font-weight-black text-teal"},{default:s(()=>e[4]||(e[4]=[b("Register")])),_:1}),t(f,{class:"text-grey"},{default:s(()=>e[5]||(e[5]=[b("Please fill the form")])),_:1})]),t(C,{onSubmit:P(a(k),["prevent"])},{default:s(()=>[t(f,{class:"pb-0"},{default:s(()=>[t(v,{"prepend-inner-icon":a(N),modelValue:a(d).value.value,"onUpdate:modelValue":e[0]||(e[0]=l=>a(d).value.value=l),"error-messages":a(d).errorMessage.value,type:"email",name:"email",label:"Email",class:"mb-3",variant:"outlined"},null,8,["prepend-inner-icon","modelValue","error-messages"]),t(v,{"prepend-inner-icon":a(R),modelValue:a(u).value.value,"onUpdate:modelValue":e[1]||(e[1]=l=>a(u).value.value=l),"error-messages":a(u).errorMessage.value,name:"username",label:"Username",class:"mb-3",variant:"outlined",counter:"16"},null,8,["prepend-inner-icon","modelValue","error-messages"]),t(v,{"prepend-inner-icon":a($),modelValue:a(m).value.value,"onUpdate:modelValue":e[2]||(e[2]=l=>a(m).value.value=l),"error-messages":a(m).errorMessage.value,variant:"outlined","append-inner-icon":r.value?a(z):a(L),type:r.value?"text":"password",label:"Password",name:"password",class:"mb-3","onClick:appendInner":e[3]||(e[3]=l=>r.value=!r.value)},null,8,["prepend-inner-icon","modelValue","error-messages","append-inner-icon","type"])]),_:1}),t(U,{class:"d-flex flex-column ga-2"},{default:s(()=>[t(g,{type:"submit",color:"teal",block:"",size:"large",variant:"flat",loading:i.value,text:"Register",rounded:"pill"},null,8,["loading"]),t(g,{to:{name:"login"},block:"",variant:"text",color:"medium-emphasis",text:"Login",rounded:"pill"})]),_:1})]),_:1},8,["onSubmit"])])]),_:1},8,["loading","class","rounded","max-width"])}}};export{I as default};
