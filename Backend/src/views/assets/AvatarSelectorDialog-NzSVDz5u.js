import{a as B,E as y,r as d,G as L,f as o,o as v,i as k,w as s,d as e,b as j,c as A,F as G,g as M,u as N,e as c,H as S}from"./index-nhD4hLiu.js";const E={key:0,class:"d-flex flex-wrap ga-2 justify-center"},H={__name:"AvatarSelectorDialog",props:{dialog:{},dialogModifiers:{},avatar:{},avatarModifiers:{}},emits:["update:dialog","update:avatar"],setup(f){const $=B(),n=y(f,"dialog"),m=y(f,"avatar"),u=d([]),_=d(!1),r=d(),p=d(!0);function C(){m.value=r.value,n.value=!1}async function w(){try{var t=await fetch(c.avatarGet.url,{method:c.avatarGet.method,headers:{Authorization:$.token}});t=await t.json(),u.value=t.data}catch(a){console.log(a)}finally{p.value=!1}}return L(n,()=>{r.value=m.value,n.value&&!_.value&&(w(),_.value=!0)}),(t,a)=>{const i=o("v-btn"),x=o("v-card-title"),g=o("v-divider"),b=o("v-avatar"),U=o("v-card-text"),V=o("v-card-actions"),h=o("v-card"),z=o("v-dialog");return v(),k(z,{modelValue:n.value,"onUpdate:modelValue":a[2]||(a[2]=l=>n.value=l),"max-width":"800",fullscreen:!t.$vuetify.display.smAndUp,scrollable:""},{default:s(()=>[e(h,{loading:p.value,rounded:t.$vuetify.display.smAndUp?"lg":"0"},{default:s(()=>[e(x,{class:"d-flex justify-space-between align-center"},{default:s(()=>[a[3]||(a[3]=j("div",null,"Avatars",-1)),e(i,{icon:"$close",variant:"text",onClick:a[0]||(a[0]=l=>n.value=!1)})]),_:1}),e(g),e(U,null,{default:s(()=>[u.value?(v(),A("div",E,[(v(!0),A(G,null,M(u.value,l=>(v(),k(i,{key:l,onClick:F=>r.value=l,icon:"",size:t.$vuetify.display.smAndUp?"80":"60",variant:"flat",color:r.value==l?"green":""},{default:s(()=>[e(b,{image:`${N(c).userAvatarURL}/${l}`,size:t.$vuetify.display.smAndUp?"80":"60"},null,8,["image","size"])]),_:2},1032,["onClick","size","color"]))),128))])):S("",!0)]),_:1}),e(g),e(V,{class:"ma-2"},{default:s(()=>[e(i,{type:"button",text:"Cancel",onClick:a[1]||(a[1]=l=>n.value=!1)}),e(i,{onClick:C,text:"Select",color:"primary",variant:"flat"})]),_:1})]),_:1},8,["loading","rounded"])]),_:1},8,["modelValue","fullscreen"])}}};export{H as _};
