import{a as B,E as y,r as d,G as L,f as o,o as v,i as k,w as s,d as e,b as j,c as $,F as G,g as M,u as N,e as c,H as S}from"./index-GhkXspuL.js";const E={key:0,class:"d-flex flex-wrap ga-2 justify-center"},H={__name:"AvatarSelectorDialog",props:{dialog:{},dialogModifiers:{},avatar:{},avatarModifiers:{}},emits:["update:dialog","update:avatar"],setup(f){const x=B(),n=y(f,"dialog"),m=y(f,"avatar"),u=d([]),p=d(!1),r=d(),_=d(!0);function A(){m.value=r.value,n.value=!1}async function w(){try{var t=await fetch(c.avatarGet.url,{method:c.avatarGet.method,headers:{Authorization:x.token}});t=await t.json(),u.value=t.data}catch(a){console.log(a)}finally{_.value=!1}}return L(n,()=>{r.value=m.value,n.value&&!p.value&&(w(),p.value=!0)}),(t,a)=>{const i=o("v-btn"),C=o("v-card-title"),g=o("v-divider"),b=o("v-avatar"),h=o("v-card-text"),V=o("v-card-actions"),z=o("v-card"),U=o("v-dialog");return v(),k(U,{modelValue:n.value,"onUpdate:modelValue":a[2]||(a[2]=l=>n.value=l),"max-width":t.$vuetify.display.smAndUp?"800":"",fullscreen:!t.$vuetify.display.smAndUp,scrollable:""},{default:s(()=>[e(z,{loading:_.value,rounded:t.$vuetify.display.smAndUp?"lg":"0"},{default:s(()=>[e(C,{class:"d-flex justify-space-between align-center"},{default:s(()=>[a[3]||(a[3]=j("div",null,"Avatars",-1)),e(i,{icon:"$close",variant:"text",onClick:a[0]||(a[0]=l=>n.value=!1)})]),_:1}),e(g),e(h,null,{default:s(()=>[u.value?(v(),$("div",E,[(v(!0),$(G,null,M(u.value,l=>(v(),k(i,{key:l,onClick:F=>r.value=l,icon:"",size:t.$vuetify.display.xs?"70":"80",variant:"flat",color:r.value==l?"green":""},{default:s(()=>[e(b,{image:`${N(c).userAvatarURL}/${l}`,size:t.$vuetify.display.xs?"70":"80"},null,8,["image","size"])]),_:2},1032,["onClick","size","color"]))),128))])):S("",!0)]),_:1}),e(g),e(V,{class:"ma-2"},{default:s(()=>[e(i,{type:"button",text:"Cancel",onClick:a[1]||(a[1]=l=>n.value=!1)}),e(i,{onClick:A,text:"Select",color:"primary",variant:"flat"})]),_:1})]),_:1},8,["loading","rounded"])]),_:1},8,["modelValue","max-width","fullscreen"])}}};export{H as _};
